<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ver Foto</title>
<style>
  :root{--accent:#ff0077}
  body {
    background: linear-gradient(180deg,#0b0b0b 0%, #111 100%);
    color: #fff;
    font-family: Arial, Helvetica, sans-serif;
    text-align: center;
    padding: 24px;
    -webkit-font-smoothing:antialiased;
  }
  h1,h2{letter-spacing:0.4px}
  .btn {
    background: var(--accent);
    padding: 14px 26px;
    border: none;
    color: #fff;
    font-size: 18px;
    border-radius: 12px;
    cursor: pointer;
    margin-top: 18px;
    box-shadow: 0 8px 20px rgba(255,0,119,0.14);
  }
  .btn:active{transform:translateY(1px)}
  .container{max-width:760px;margin:0 auto}
  img{width:90%;max-width:420px;border-radius:14px;box-shadow:0 12px 30px rgba(0,0,0,0.6);}
  .card{background:rgba(255,255,255,0.02);padding:20px;border-radius:12px;margin-top:20px}
  .muted{opacity:0.8;font-size:15px}
  .small{font-size:13px;color:#ddd}
  .share-count{margin-top:10px;font-weight:700}
</style>
</head>
<body>
<div class="container">

  <!-- ==================== PÃGINA 1 ==================== -->
  <div id="pagina1" class="card" aria-hidden="false">
    <h1>ðŸ‘€ Preparado para ver algo especial?</h1>
    <p class="muted">Uma imagem que toca o coraÃ§Ã£o â€” clica para ver.</p>
    <button id="btnVerFoto" onclick="link1()" class="btn">Ver Foto ðŸ’—</button>
    <p class="small">Dica: partilha se fizeres alguÃ©m sorrir ðŸ˜Š</p>
  </div>

  <!-- ==================== PÃGINA 2 ==================== -->
  <div id="pagina2" class="card" style="display:none;" aria-hidden="true">
    <h2>Gostaste desta foto?</h2>
    <img id="foto" src="https://via.placeholder.com/800x600" alt="Foto especial" />

    <p class="muted" style="margin-top:18px">Queres ver mais fotos bonitas como esta?</p>
    <button id="btnVerMais" onclick="link1()" class="btn">Ver mais fotos âžœ</button>
    <div class="share-count" id="count2" style="display:none">Partilhas: 0</div>
  </div>

  <!-- ==================== PÃGINA 3 ==================== -->
  <div id="pagina3" class="card" style="display:none;" aria-hidden="true">
    <h2>ðŸ’– Foto Especial</h2>
    <img id="foto3" src="https://via.placeholder.com/800x600" alt="Foto especial" />

    <p class="muted" style="margin-top:18px;padding:12px;background:rgba(0,0,0,0.18);border-radius:8px;">
      Se esta foto te fez sorrir, faz alguÃ©m sorrir tambÃ©m. Partilha com uma pessoa especial.
    </p>

    <button id="btnPartilhar" class="btn">Partilhar no WhatsApp ðŸ’Œ</button>
    <div class="share-count" id="count3">Partilhas: 0</div>
  </div>

</div>

<script>
// Uso de localStorage para preservar pÃ¡gina atual e contadores de clique
(function(){
  const btnVerFoto = document.getElementById('btnVerFoto');
  const btnVerMais = document.getElementById('btnVerMais');
  const btnPartilhar = document.getElementById('btnPartilhar');

  const pagina1 = document.getElementById('pagina1');
  const pagina2 = document.getElementById('pagina2');
  const pagina3 = document.getElementById('pagina3');

  const count2El = document.getElementById('count2');
  const count3El = document.getElementById('count3');

  // Inicializa contadores se nÃ£o existirem
  if (!localStorage.getItem('share_count_2')) localStorage.setItem('share_count_2','0');
  if (!localStorage.getItem('share_count_3')) localStorage.setItem('share_count_3','0');

  // Mostrar contadores
  function atualizarContadores(){
    const c2 = parseInt(localStorage.getItem('share_count_2')||'0',10);
    const c3 = parseInt(localStorage.getItem('share_count_3')||'0',10);
    if(c2>0){ count2El.style.display='block'; count2El.textContent = 'Partilhas: ' + c2; }
    count3El.textContent = 'Partilhas: ' + c3;
  }

  // NavegaÃ§Ã£o que grava no localStorage
  function mostrarPagina(n){
    pagina1.style.display = 'none'; pagina1.setAttribute('aria-hidden','true');
    pagina2.style.display = 'none'; pagina2.setAttribute('aria-hidden','true');
    pagina3.style.display = 'none'; pagina3.setAttribute('aria-hidden','true');

    if(n===1){ pagina1.style.display='block'; pagina1.setAttribute('aria-hidden','false'); localStorage.setItem('pagina_atual','1'); }
    if(n===2){ pagina2.style.display='block'; pagina2.setAttribute('aria-hidden','false'); localStorage.setItem('pagina_atual','2'); }
    if(n===3){ pagina3.style.display='block'; pagina3.setAttribute('aria-hidden','false'); localStorage.setItem('pagina_atual','3'); }
  }

  // Restaurar ao carregar
  document.addEventListener('DOMContentLoaded', function(){
    const pagina = localStorage.getItem('pagina_atual') || '1';
    mostrarPagina(parseInt(pagina,10));
    atualizarContadores();
  });

  // Event listeners (mais robustos do que onclick inline)
  if(btnVerFoto) btnVerFoto.addEventListener('click', function(){ mostrarPagina(2); });
  if(btnVerMais) btnVerMais.addEventListener('click', function(){
    // incrementar contador de interaÃ§Ãµes na pagina2 (opcional)
    const c = parseInt(localStorage.getItem('share_count_2')||'0',10) + 1;
    localStorage.setItem('share_count_2', String(c));
    atualizarContadores();
    // ir para pÃ¡gina 3
    mostrarPagina(3);
  });

  if(btnPartilhar) btnPartilhar.addEventListener('click', function(){
    // incrementar contador de partilhas reais
    const prev = parseInt(localStorage.getItem('share_count_3')||'0',10);
    localStorage.setItem('share_count_3', String(prev+1));
    atualizarContadores();

    // mensagem prÃ©-preenchida mais convincente
    const texto = encodeURIComponent('ðŸ’– Vi isto e lembrei-me de ti! DÃ¡ uma olhada â€” se gostares, partilha com alguÃ©m especial: ' + window.location.href);
    const url = 'https://wa.me/?text=' + texto;
    // Abrir whatsapp (nova aba) - em alguns navegadores popup blockers podem bloquear
    const newWin = window.open(url, '_blank');
    if(!newWin){
      // fallback: redirecionar na mesma aba
      window.location.href = url;
    }
  });

})();
</script>

</body>
</html>
